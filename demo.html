<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8 />
    <title>robotjs-browser - demo</title>
    <script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="lib/promise.min.js"></script>
    <script type="text/javascript" src="lib/setImmediate.min.js"></script>
    <script id="robotjs-browser" type="text/javascript" src="robotjs-browser.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var p = document.getElementsByTagName("p");
            var input = document.getElementById("input");
            input.value = "LoremIpsum";
            document.getElementById("start").addEventListener('click', function() {
                robotjs.fullscreen.enable().then(function() {
                    var pos = robotjs.pos.textNode(p[0].firstChild, 7);
                    return robotjs.wrapper.moveMouseSmooth(pos.x, pos.y);
                }).then(function() {
                    return robotjs.wrapper.mouseToggle("down");
                }).then(function() {
                    var pos = robotjs.pos.textNode(p[7].firstChild, 10);
                    return robotjs.wrapper.moveMouseSmooth(pos.x, pos.y);
                }).then(function() {
                    return robotjs.wrapper.mouseToggle("up");
                }).then(robotjs.delay(2000)).then(function() {
                    var pos = robotjs.pos.node(input, "center");
                    return robotjs.wrapper.moveMouseSmooth(pos.x, pos.y);
                }).then(function() {
                    return robotjs.wrapper.mouseClick("left", true);
                }).then(function() {
                    return robotjs.wrapper.keyTap("backspace");
                }).then(function() {
                    return robotjs.wrapper.typeStringDelayed("Lorem ipsum dolor sit amet", 120);
                });
            });
        });
    </script>
</head>

<body>
    <div>
        <button id="start" button>Start</button>
    </div>
    <div>
        <p>Lorem ipsum dolor sit amet, </p>
        <p>consetetur sadipscing elitr, </p>
        <p>sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam eriat, </p>
        <p>sed diam voluptua. </p>
        <p>At vero eos et accusam et justo duo dolores et ea rebum. </p>
        <p>Stet clita kasd gubergren, </p>
        <p>no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
        <p>Lorem ipsum dolor sit amet, </p>
        <p>consetetur sadipscing elitr, </p>
        <p>sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, </p>
        <p>sed diam voluptua. </p>
        <p>At vero eos et accusam et justo duo dolores et ea rebum. </p>
        <p>Stet clita kasd gubergren, </p>
        <p>no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
    </div>
    <form>
        <input id="input">
    </form>
</body>

</html>
